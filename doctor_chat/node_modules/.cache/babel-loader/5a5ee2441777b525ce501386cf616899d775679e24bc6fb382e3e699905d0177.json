{"ast":null,"code":"import React,{useEffect,useRef,useState}from'react';import Input from\"../components/Input\";import{io}from'socket.io-client';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const Dashboard=()=>{var _messages$reciever3,_messages$messages,_messages$reciever4;const[user,setUser]=useState(JSON.parse(localStorage.getItem('userDetail')));const[conversations,setConversations]=useState([]);const[messages,setMessages]=useState({});const[message,setMessage]=useState('');const[users,setUsers]=useState([]);const[socket,setSocket]=useState(null);const messageRef=useRef();useEffect(()=>{setSocket(io('http://localhost:8000'));},[]);useEffect(()=>{socket===null||socket===void 0?void 0:socket.emit('addUser',user===null||user===void 0?void 0:user.id);socket===null||socket===void 0?void 0:socket.on('getUser',users=>{console.log('users:>>',users);});socket===null||socket===void 0?void 0:socket.on('getMessage',data=>{console.log(data);setMessages(prev=>({...prev,messages:[...prev.messages,{user:data.user,message:data.message}]}));});},[socket]);useEffect(()=>{var _messageRef$current;messageRef===null||messageRef===void 0?void 0:(_messageRef$current=messageRef.current)===null||_messageRef$current===void 0?void 0:_messageRef$current.scrollIntoView({behaviour:'smooth'});},[messages===null||messages===void 0?void 0:messages.messages]);useEffect(()=>{const loggedinUser=JSON.parse(localStorage.getItem('userDetail'));const fetchConversation=async()=>{const res=await fetch(\"https://doctor-chat2.onrender.com/api/conversation/\".concat(loggedinUser===null||loggedinUser===void 0?void 0:loggedinUser.id),{method:'GET',headers:{'Content-Type':'application/json'}});const response=await res.json();setConversations(response);};fetchConversation();},[]);useEffect(()=>{const fetchusers=async()=>{const res=await fetch(\"https://doctor-chat2.onrender.com/api/users/\".concat(user===null||user===void 0?void 0:user.id),{method:'GET',headers:{'Content-Type':'application/json'}});const resusersa=await res.json();setUsers(resusersa);};fetchusers();},[]);const fetchMessage=async(conversationId,reciever)=>{const res=await fetch(\"https://doctor-chat2.onrender.com/api/messages/\".concat(conversationId,\"?senderId=\").concat(user===null||user===void 0?void 0:user.id,\"&&recieverId=\").concat(reciever===null||reciever===void 0?void 0:reciever.recieverId),{method:'GET',headers:{'Content-Type':'application/json'}});const resData=await res.json();setMessages({messages:resData,reciever,conversationId});};const sendMessage=async e=>{var _messages$reciever,_messages$reciever2;socket===null||socket===void 0?void 0:socket.emit('sendMessage',{conversationId:messages===null||messages===void 0?void 0:messages.conversationId,senderId:user===null||user===void 0?void 0:user.id,message,recieverId:messages===null||messages===void 0?void 0:(_messages$reciever=messages.reciever)===null||_messages$reciever===void 0?void 0:_messages$reciever.recieverId});const res=await fetch('https://doctor-chat2.onrender.com/api/message',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({conversationId:messages===null||messages===void 0?void 0:messages.conversationId,senderId:user===null||user===void 0?void 0:user.id,message,recieverId:messages===null||messages===void 0?void 0:(_messages$reciever2=messages.reciever)===null||_messages$reciever2===void 0?void 0:_messages$reciever2.recieverId})});setMessage('');};return/*#__PURE__*/_jsxs(\"div\",{className:\"w-screen flex\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-[25%]  h-screen bg-secondary\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center items-center my-8  \",children:[/*#__PURE__*/_jsx(\"div\",{style:{border:\"inset\"},className:\"border p-[2px] rounded-full\",children:/*#__PURE__*/_jsx(\"img\",{style:{borderRadius:\"50%\"},src:\"https://th.bing.com/th/id/OIP.O-l--JTRTS09vxklqe4jywHaHa?rs=1&pid=ImgDetMain\",alt:\"error\",width:75,height:75})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl\",children:\"Personal \"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg\",children:\"Your Account\"})]})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-14 mt-10 \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-primary ml-10\",children:\"Messages\"}),/*#__PURE__*/_jsx(\"div\",{children:conversations.map(_ref=>{let{conversationId,user}=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center py-5 border-b border-b-gray-300 cursor-pointer\",onClick:()=>fetchMessage(conversationId,user),children:[/*#__PURE__*/_jsx(\"div\",{style:{border:\"inset\"},className:\"border p-[2px] rounded-full\",children:/*#__PURE__*/_jsx(\"img\",{style:{borderRadius:\"50%\"},src:\"https://th.bing.com/th/id/OIP.O-l--JTRTS09vxklqe4jywHaHa?rs=1&pid=ImgDetMain\",width:50,height:50,alt:\"error\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-lg\",children:user===null||user===void 0?void 0:user.fullname}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-light text-gray-400\",children:user===null||user===void 0?void 0:user.email})]})]});})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-[50%] bg-white h-screen flex flex-col items-center\",children:[(messages===null||messages===void 0?void 0:(_messages$reciever3=messages.reciever)===null||_messages$reciever3===void 0?void 0:_messages$reciever3.fullname)&&/*#__PURE__*/_jsxs(\"div\",{className:\"w-[75%] h-[80px] rounded-full mt-14  bg-secondary flex items-center px-10\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{style:{borderRadius:\"50%\"},src:\"https://th.bing.com/th/id/OIP.O-l--JTRTS09vxklqe4jywHaHa?rs=1&pid=ImgDetMain\",alt:\"error\",width:50,height:50})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-xl font-bold ml-4\",children:[\"   \",messages.reciever.fullname,\"  \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm ml-4 text-gray-400\",children:[\" \",messages.reciever.email]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-[75%] px-10 py-14 overflow-auto \",children:/*#__PURE__*/_jsx(\"div\",{children:(messages===null||messages===void 0?void 0:(_messages$messages=messages.messages)===null||_messages$messages===void 0?void 0:_messages$messages.length)>0?messages.messages.map(_ref2=>{let{message,user:{id}={}}=_ref2;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"max-w-[40%]  mb-4  p-2 rounded-b-xl \".concat(id===(user===null||user===void 0?void 0:user.id)?'rounded-tl-xl ml-auto  bg-secondary':'bg-primary text-white rounded-tr-xl'),children:message}),/*#__PURE__*/_jsx(\"div\",{ref:messageRef})]});}):/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-lg font-semibold mt-14\",children:\"No Messages\"})})}),(messages===null||messages===void 0?void 0:(_messages$reciever4=messages.reciever)===null||_messages$reciever4===void 0?void 0:_messages$reciever4.fullname)&&/*#__PURE__*/_jsxs(\"div\",{className:\" p-12 w-full flex \",children:[/*#__PURE__*/_jsx(Input,{placeholder:\"Type a message ....\",value:message,onChange:e=>{setMessage(e.target.value);},inputClassname:\" w-[160%] p-4 border-0 shadow-md rounded full bg-light outline-none \"}),/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-paper-plane m-auto cursor-pointer \".concat(!message?'hidden':''),onClick:e=>sendMessage(e)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-[25%]  h-screen px-8 py-10 bg-secondary overflow-scroll\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-primary\",children:\"Doctors\"}),/*#__PURE__*/_jsx(\"div\",{children:users.length>0?users.map(_ref3=>{let{user}=_ref3;// console.log(user)\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center py-5 border-b border-b-gray-300 cursor-pointer\",onClick:()=>fetchMessage('new',user),children:[/*#__PURE__*/_jsx(\"div\",{style:{border:\"inset\"},className:\"border p-[2px] rounded-full\",children:/*#__PURE__*/_jsx(\"img\",{style:{borderRadius:\"50%\"},src:\"https://th.bing.com/th/id/OIP.O-l--JTRTS09vxklqe4jywHaHa?rs=1&pid=ImgDetMain\",width:50,height:50,alt:\"error\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-lg\",children:user===null||user===void 0?void 0:user.fullname}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-light text-gray-400\",children:user===null||user===void 0?void 0:user.email})]})]});}):/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-lg font-semibold mt-14\",children:\"No Messages\"})})]})]});};export default Dashboard;","map":{"version":3,"names":["React","useEffect","useRef","useState","Input","io","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Dashboard","_messages$reciever3","_messages$messages","_messages$reciever4","user","setUser","JSON","parse","localStorage","getItem","conversations","setConversations","messages","setMessages","message","setMessage","users","setUsers","socket","setSocket","messageRef","emit","id","on","console","log","data","prev","_messageRef$current","current","scrollIntoView","behaviour","loggedinUser","fetchConversation","res","fetch","concat","method","headers","response","json","fetchusers","resusersa","fetchMessage","conversationId","reciever","recieverId","resData","sendMessage","e","_messages$reciever","_messages$reciever2","senderId","body","stringify","className","children","style","border","borderRadius","src","alt","width","height","map","_ref","onClick","fullname","email","length","_ref2","ref","placeholder","value","onChange","target","inputClassname","_ref3"],"sources":["/Users/mashibann/Doctor_chat2/doctor_chat/src/Dashboard/Dashboard.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react'\r\nimport Input from \"../components/Input\"\r\nimport {io} from 'socket.io-client';\r\n\r\nconst Dashboard = () => {\r\n  const [user, setUser] = useState(JSON.parse(localStorage.getItem('userDetail')));\r\n  const [conversations, setConversations] = useState([]);\r\n  const [messages, setMessages] = useState({})\r\n  const [message, setMessage] = useState('')\r\n  const [users, setUsers] = useState([]);\r\n  const [socket,setSocket]=useState(null)\r\n  const messageRef=useRef()\r\n\r\nuseEffect(() => {\r\n  setSocket(io('http://localhost:8000'))\r\n\r\n}, [])\r\n\r\nuseEffect(() => {\r\n  socket?.emit('addUser',user?.id)\r\n  socket?.on('getUser',users=>{\r\n  console.log('users:>>',users)\r\n  })\r\n  socket?.on('getMessage',data=>{\r\n    console.log(data)\r\n    setMessages(prev=>({\r\n       ...prev,\r\n       messages:[...prev.messages,{user:data.user,message:data.message}]\r\n    }))\r\n  })\r\n\r\n}, [socket])\r\n\r\nuseEffect(() => {\r\n messageRef?.current?.scrollIntoView({behaviour:'smooth'})\r\n}, [messages?.messages])\r\n\r\n\r\n  useEffect(() => {\r\n    const loggedinUser = JSON.parse(localStorage.getItem('userDetail'));\r\n    const fetchConversation = async () => {\r\n      const res = await fetch(`https://doctor-chat2.onrender.com/api/conversation/${loggedinUser?.id}`, {\r\n        method: 'GET',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n      const response = await res.json();\r\n      setConversations(response);\r\n    }\r\n    fetchConversation()\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    const fetchusers = async () => {\r\n      const res = await fetch(`https://doctor-chat2.onrender.com/api/users/${user?.id}`, {\r\n        method: 'GET',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        }\r\n      })\r\n      const resusersa = await res.json();\r\n      setUsers(resusersa);\r\n    }\r\n    fetchusers();\r\n  }, [])\r\n\r\n  const fetchMessage = async ( conversationId, reciever ) => {\r\n    const res = await fetch(`https://doctor-chat2.onrender.com/api/messages/${conversationId}?senderId=${user?.id}&&recieverId=${reciever?.recieverId}`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n    })\r\n    const resData = await res.json();\r\n    setMessages({ messages: resData, reciever, conversationId });\r\n\r\n  }\r\n\r\n  const sendMessage = async (e) => {\r\n    socket?.emit('sendMessage',{\r\n      conversationId: messages?.conversationId,\r\n        senderId: user?.id,\r\n        message,\r\n        recieverId: messages?.reciever?.recieverId\r\n    })\r\n    const res = await fetch('https://doctor-chat2.onrender.com/api/message', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        conversationId: messages?.conversationId,\r\n        senderId: user?.id,\r\n        message,\r\n        recieverId: messages?.reciever?.recieverId\r\n      })\r\n    })\r\n    setMessage('');\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n  return (\r\n    <div className='w-screen flex'>\r\n      <div className='w-[25%]  h-screen bg-secondary'>\r\n        <div className='flex justify-center items-center my-8  '>\r\n          <div style={{ border: \"inset\" }} className=\"border p-[2px] rounded-full\"><img style={{ borderRadius: \"50%\" }} src=\"https://th.bing.com/th/id/OIP.O-l--JTRTS09vxklqe4jywHaHa?rs=1&pid=ImgDetMain\" alt=\"error\" width={75} height={75} /></div>\r\n          <div className=\"ml-4\">\r\n            <div className='text-2xl'>Personal </div>\r\n            <p className='text-lg'>Your Account</p>\r\n          </div>\r\n        </div>\r\n        <hr />\r\n        <div className='ml-14 mt-10 '>\r\n          <div className='text-primary ml-10'>Messages</div>\r\n          <div>\r\n            {\r\n              conversations.map(({ conversationId, user }) => {\r\n                return (\r\n                  <div className='flex items-center py-5 border-b border-b-gray-300 cursor-pointer' onClick={() => fetchMessage( conversationId, user )}>\r\n                    <div style={{ border: \"inset\" }} className=\"border p-[2px] rounded-full\"><img style={{ borderRadius: \"50%\" }} src='https://th.bing.com/th/id/OIP.O-l--JTRTS09vxklqe4jywHaHa?rs=1&pid=ImgDetMain' width={50} height={50} alt=\"error\" /></div>\r\n                    <div className='ml-4'>\r\n                      <div className='text-lg'>{user?.fullname}</div>\r\n                      <p className='text-sm font-light text-gray-400'>{user?.email}</p>\r\n                    </div>\r\n                  </div>\r\n                )\r\n              })\r\n            }\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Right */}\r\n      <div className='w-[50%] bg-white h-screen flex flex-col items-center'>\r\n        {\r\n          messages?.reciever?.fullname &&\r\n          <div className=\"w-[75%] h-[80px] rounded-full mt-14  bg-secondary flex items-center px-10\">\r\n            <div><img style={{ borderRadius: \"50%\" }} src=\"https://th.bing.com/th/id/OIP.O-l--JTRTS09vxklqe4jywHaHa?rs=1&pid=ImgDetMain\" alt=\"error\" width={50} height={50} /></div>\r\n            <div className=\"flex flex-col\">\r\n              <div className='text-xl font-bold ml-4'>   {messages.reciever.fullname}  </div>\r\n              <div className='text-sm ml-4 text-gray-400'> {messages.reciever.email}</div>\r\n            </div>\r\n          </div>\r\n        }\r\n\r\n        <div className='w-full h-[75%] px-10 py-14 overflow-auto '>\r\n\r\n          <div >\r\n            {\r\n              messages?.messages?.length > 0 ?\r\n                messages.messages.map(({ message, user: { id } = {} }) => {\r\n                   return (\r\n                    <>\r\n                      <div className={`max-w-[40%]  mb-4  p-2 rounded-b-xl ${id===user?.id ?'rounded-tl-xl ml-auto  bg-secondary':'bg-primary text-white rounded-tr-xl'}`}>{message}</div>\r\n                      <div ref={messageRef}></div>\r\n                      </>\r\n                    )\r\n                  \r\n                }) : <div className='text-center text-lg font-semibold mt-14'>No Messages</div>\r\n            }\r\n          </div>\r\n        </div>\r\n        {\r\n          messages?.reciever?.fullname &&\r\n          <div className=' p-12 w-full flex '>\r\n\r\n            <Input placeholder='Type a message ....' value={message} onChange={(e) => { setMessage(e.target.value) }} inputClassname=' w-[160%] p-4 border-0 shadow-md rounded full bg-light outline-none ' />\r\n            <i className={`fa-solid fa-paper-plane m-auto cursor-pointer ${!message?'hidden':''}`} onClick={(e) => sendMessage(e)}></i>\r\n\r\n          </div>\r\n        }\r\n\r\n      </div>\r\n\r\n      <div className='w-[25%]  h-screen px-8 py-10 bg-secondary overflow-scroll'>\r\n        <div className='bg-primary'>Doctors</div>\r\n        <div>\r\n          {users.length > 0 ?\r\n            users.map(({ user }) => {\r\n              // console.log(user)\r\n              return (\r\n                <div className='flex items-center py-5 border-b border-b-gray-300 cursor-pointer' onClick={() => fetchMessage('new', user)}>\r\n                  <div style={{ border: \"inset\" }} className=\"border p-[2px] rounded-full\"><img style={{ borderRadius: \"50%\" }} src='https://th.bing.com/th/id/OIP.O-l--JTRTS09vxklqe4jywHaHa?rs=1&pid=ImgDetMain' width={50} height={50} alt=\"error\" /></div>\r\n                  <div className='ml-4'>\r\n                    <div className='text-lg'>{user?.fullname}</div>\r\n                    <p className='text-sm font-light text-gray-400'>{user?.email}</p>\r\n                  </div>\r\n                </div>\r\n              )\r\n            }) : <div className='text-center text-lg font-semibold mt-14'>No Messages</div>\r\n          }\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Dashboard\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CAC1D,MAAO,CAAAC,KAAK,KAAM,qBAAqB,CACvC,OAAQC,EAAE,KAAO,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAEpC,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,KAAAC,mBAAA,CAAAC,kBAAA,CAAAC,mBAAA,CACtB,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGd,QAAQ,CAACe,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC,CAChF,KAAM,CAACC,aAAa,CAAEC,gBAAgB,CAAC,CAAGpB,QAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAACqB,QAAQ,CAAEC,WAAW,CAAC,CAAGtB,QAAQ,CAAC,CAAC,CAAC,CAAC,CAC5C,KAAM,CAACuB,OAAO,CAAEC,UAAU,CAAC,CAAGxB,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACyB,KAAK,CAAEC,QAAQ,CAAC,CAAG1B,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAAC2B,MAAM,CAACC,SAAS,CAAC,CAAC5B,QAAQ,CAAC,IAAI,CAAC,CACvC,KAAM,CAAA6B,UAAU,CAAC9B,MAAM,CAAC,CAAC,CAE3BD,SAAS,CAAC,IAAM,CACd8B,SAAS,CAAC1B,EAAE,CAAC,uBAAuB,CAAC,CAAC,CAExC,CAAC,CAAE,EAAE,CAAC,CAENJ,SAAS,CAAC,IAAM,CACd6B,MAAM,SAANA,MAAM,iBAANA,MAAM,CAAEG,IAAI,CAAC,SAAS,CAACjB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEkB,EAAE,CAAC,CAChCJ,MAAM,SAANA,MAAM,iBAANA,MAAM,CAAEK,EAAE,CAAC,SAAS,CAACP,KAAK,EAAE,CAC5BQ,OAAO,CAACC,GAAG,CAAC,UAAU,CAACT,KAAK,CAAC,CAC7B,CAAC,CAAC,CACFE,MAAM,SAANA,MAAM,iBAANA,MAAM,CAAEK,EAAE,CAAC,YAAY,CAACG,IAAI,EAAE,CAC5BF,OAAO,CAACC,GAAG,CAACC,IAAI,CAAC,CACjBb,WAAW,CAACc,IAAI,GAAG,CAChB,GAAGA,IAAI,CACPf,QAAQ,CAAC,CAAC,GAAGe,IAAI,CAACf,QAAQ,CAAC,CAACR,IAAI,CAACsB,IAAI,CAACtB,IAAI,CAACU,OAAO,CAACY,IAAI,CAACZ,OAAO,CAAC,CACnE,CAAC,CAAC,CAAC,CACL,CAAC,CAAC,CAEJ,CAAC,CAAE,CAACI,MAAM,CAAC,CAAC,CAEZ7B,SAAS,CAAC,IAAM,KAAAuC,mBAAA,CACfR,UAAU,SAAVA,UAAU,kBAAAQ,mBAAA,CAAVR,UAAU,CAAES,OAAO,UAAAD,mBAAA,iBAAnBA,mBAAA,CAAqBE,cAAc,CAAC,CAACC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAC1D,CAAC,CAAE,CAACnB,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEA,QAAQ,CAAC,CAAC,CAGtBvB,SAAS,CAAC,IAAM,CACd,KAAM,CAAA2C,YAAY,CAAG1B,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,CAAC,CACnE,KAAM,CAAAwB,iBAAiB,CAAG,KAAAA,CAAA,GAAY,CACpC,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAC,KAAK,uDAAAC,MAAA,CAAuDJ,YAAY,SAAZA,YAAY,iBAAZA,YAAY,CAAEV,EAAE,EAAI,CAChGe,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAL,GAAG,CAACM,IAAI,CAAC,CAAC,CACjC7B,gBAAgB,CAAC4B,QAAQ,CAAC,CAC5B,CAAC,CACDN,iBAAiB,CAAC,CAAC,CACrB,CAAC,CAAE,EAAE,CAAC,CAEN5C,SAAS,CAAC,IAAM,CACd,KAAM,CAAAoD,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,KAAM,CAAAP,GAAG,CAAG,KAAM,CAAAC,KAAK,gDAAAC,MAAA,CAAgDhC,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEkB,EAAE,EAAI,CACjFe,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CACF,KAAM,CAAAI,SAAS,CAAG,KAAM,CAAAR,GAAG,CAACM,IAAI,CAAC,CAAC,CAClCvB,QAAQ,CAACyB,SAAS,CAAC,CACrB,CAAC,CACDD,UAAU,CAAC,CAAC,CACd,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAE,YAAY,CAAG,KAAAA,CAAQC,cAAc,CAAEC,QAAQ,GAAM,CACzD,KAAM,CAAAX,GAAG,CAAG,KAAM,CAAAC,KAAK,mDAAAC,MAAA,CAAmDQ,cAAc,eAAAR,MAAA,CAAahC,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEkB,EAAE,kBAAAc,MAAA,CAAgBS,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEC,UAAU,EAAI,CACnJT,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CACF,KAAM,CAAAS,OAAO,CAAG,KAAM,CAAAb,GAAG,CAACM,IAAI,CAAC,CAAC,CAChC3B,WAAW,CAAC,CAAED,QAAQ,CAAEmC,OAAO,CAAEF,QAAQ,CAAED,cAAe,CAAC,CAAC,CAE9D,CAAC,CAED,KAAM,CAAAI,WAAW,CAAG,KAAO,CAAAC,CAAC,EAAK,KAAAC,kBAAA,CAAAC,mBAAA,CAC/BjC,MAAM,SAANA,MAAM,iBAANA,MAAM,CAAEG,IAAI,CAAC,aAAa,CAAC,CACzBuB,cAAc,CAAEhC,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEgC,cAAc,CACtCQ,QAAQ,CAAEhD,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEkB,EAAE,CAClBR,OAAO,CACPgC,UAAU,CAAElC,QAAQ,SAARA,QAAQ,kBAAAsC,kBAAA,CAARtC,QAAQ,CAAEiC,QAAQ,UAAAK,kBAAA,iBAAlBA,kBAAA,CAAoBJ,UACpC,CAAC,CAAC,CACF,KAAM,CAAAZ,GAAG,CAAG,KAAM,CAAAC,KAAK,CAAC,+CAA+C,CAAE,CACvEE,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDe,IAAI,CAAE/C,IAAI,CAACgD,SAAS,CAAC,CACnBV,cAAc,CAAEhC,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEgC,cAAc,CACxCQ,QAAQ,CAAEhD,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEkB,EAAE,CAClBR,OAAO,CACPgC,UAAU,CAAElC,QAAQ,SAARA,QAAQ,kBAAAuC,mBAAA,CAARvC,QAAQ,CAAEiC,QAAQ,UAAAM,mBAAA,iBAAlBA,mBAAA,CAAoBL,UAClC,CAAC,CACH,CAAC,CAAC,CACF/B,UAAU,CAAC,EAAE,CAAC,CAEhB,CAAC,CAKD,mBACElB,KAAA,QAAK0D,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B3D,KAAA,QAAK0D,SAAS,CAAC,gCAAgC,CAAAC,QAAA,eAC7C3D,KAAA,QAAK0D,SAAS,CAAC,yCAAyC,CAAAC,QAAA,eACtD7D,IAAA,QAAK8D,KAAK,CAAE,CAAEC,MAAM,CAAE,OAAQ,CAAE,CAACH,SAAS,CAAC,6BAA6B,CAAAC,QAAA,cAAC7D,IAAA,QAAK8D,KAAK,CAAE,CAAEE,YAAY,CAAE,KAAM,CAAE,CAACC,GAAG,CAAC,8EAA8E,CAACC,GAAG,CAAC,OAAO,CAACC,KAAK,CAAE,EAAG,CAACC,MAAM,CAAE,EAAG,CAAE,CAAC,CAAK,CAAC,cAC5OlE,KAAA,QAAK0D,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB7D,IAAA,QAAK4D,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAC,WAAS,CAAK,CAAC,cACzC7D,IAAA,MAAG4D,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAC,cAAY,CAAG,CAAC,EACpC,CAAC,EACH,CAAC,cACN7D,IAAA,QAAK,CAAC,cACNE,KAAA,QAAK0D,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3B7D,IAAA,QAAK4D,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,UAAQ,CAAK,CAAC,cAClD7D,IAAA,QAAA6D,QAAA,CAEI9C,aAAa,CAACsD,GAAG,CAACC,IAAA,EAA8B,IAA7B,CAAErB,cAAc,CAAExC,IAAK,CAAC,CAAA6D,IAAA,CACzC,mBACEpE,KAAA,QAAK0D,SAAS,CAAC,kEAAkE,CAACW,OAAO,CAAEA,CAAA,GAAMvB,YAAY,CAAEC,cAAc,CAAExC,IAAK,CAAE,CAAAoD,QAAA,eACpI7D,IAAA,QAAK8D,KAAK,CAAE,CAAEC,MAAM,CAAE,OAAQ,CAAE,CAACH,SAAS,CAAC,6BAA6B,CAAAC,QAAA,cAAC7D,IAAA,QAAK8D,KAAK,CAAE,CAAEE,YAAY,CAAE,KAAM,CAAE,CAACC,GAAG,CAAC,8EAA8E,CAACE,KAAK,CAAE,EAAG,CAACC,MAAM,CAAE,EAAG,CAACF,GAAG,CAAC,OAAO,CAAE,CAAC,CAAK,CAAC,cAC5OhE,KAAA,QAAK0D,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB7D,IAAA,QAAK4D,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAEpD,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAE+D,QAAQ,CAAM,CAAC,cAC/CxE,IAAA,MAAG4D,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAEpD,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEgE,KAAK,CAAI,CAAC,EAC9D,CAAC,EACH,CAAC,CAEV,CAAC,CAAC,CAED,CAAC,EACH,CAAC,EACH,CAAC,cAGNvE,KAAA,QAAK0D,SAAS,CAAC,sDAAsD,CAAAC,QAAA,EAEjE,CAAA5C,QAAQ,SAARA,QAAQ,kBAAAX,mBAAA,CAARW,QAAQ,CAAEiC,QAAQ,UAAA5C,mBAAA,iBAAlBA,mBAAA,CAAoBkE,QAAQ,gBAC5BtE,KAAA,QAAK0D,SAAS,CAAC,2EAA2E,CAAAC,QAAA,eACxF7D,IAAA,QAAA6D,QAAA,cAAK7D,IAAA,QAAK8D,KAAK,CAAE,CAAEE,YAAY,CAAE,KAAM,CAAE,CAACC,GAAG,CAAC,8EAA8E,CAACC,GAAG,CAAC,OAAO,CAACC,KAAK,CAAE,EAAG,CAACC,MAAM,CAAE,EAAG,CAAE,CAAC,CAAK,CAAC,cACxKlE,KAAA,QAAK0D,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B3D,KAAA,QAAK0D,SAAS,CAAC,wBAAwB,CAAAC,QAAA,EAAC,KAAG,CAAC5C,QAAQ,CAACiC,QAAQ,CAACsB,QAAQ,CAAC,IAAE,EAAK,CAAC,cAC/EtE,KAAA,QAAK0D,SAAS,CAAC,4BAA4B,CAAAC,QAAA,EAAC,GAAC,CAAC5C,QAAQ,CAACiC,QAAQ,CAACuB,KAAK,EAAM,CAAC,EACzE,CAAC,EACH,CAAC,cAGRzE,IAAA,QAAK4D,SAAS,CAAC,2CAA2C,CAAAC,QAAA,cAExD7D,IAAA,QAAA6D,QAAA,CAEI,CAAA5C,QAAQ,SAARA,QAAQ,kBAAAV,kBAAA,CAARU,QAAQ,CAAEA,QAAQ,UAAAV,kBAAA,iBAAlBA,kBAAA,CAAoBmE,MAAM,EAAG,CAAC,CAC5BzD,QAAQ,CAACA,QAAQ,CAACoD,GAAG,CAACM,KAAA,EAAoC,IAAnC,CAAExD,OAAO,CAAEV,IAAI,CAAE,CAAEkB,EAAG,CAAC,CAAG,CAAC,CAAE,CAAC,CAAAgD,KAAA,CAClD,mBACCzE,KAAA,CAAAE,SAAA,EAAAyD,QAAA,eACE7D,IAAA,QAAK4D,SAAS,wCAAAnB,MAAA,CAAyCd,EAAE,IAAGlB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEkB,EAAE,EAAE,qCAAqC,CAAC,qCAAqC,CAAG,CAAAkC,QAAA,CAAE1C,OAAO,CAAM,CAAC,cACpKnB,IAAA,QAAK4E,GAAG,CAAEnD,UAAW,CAAM,CAAC,EAC1B,CAAC,CAGT,CAAC,CAAC,cAAGzB,IAAA,QAAK4D,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CAAC,aAAW,CAAK,CAAC,CAEhF,CAAC,CACH,CAAC,CAEJ,CAAA5C,QAAQ,SAARA,QAAQ,kBAAAT,mBAAA,CAARS,QAAQ,CAAEiC,QAAQ,UAAA1C,mBAAA,iBAAlBA,mBAAA,CAAoBgE,QAAQ,gBAC5BtE,KAAA,QAAK0D,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eAEjC7D,IAAA,CAACH,KAAK,EAACgF,WAAW,CAAC,qBAAqB,CAACC,KAAK,CAAE3D,OAAQ,CAAC4D,QAAQ,CAAGzB,CAAC,EAAK,CAAElC,UAAU,CAACkC,CAAC,CAAC0B,MAAM,CAACF,KAAK,CAAC,CAAC,CAAE,CAACG,cAAc,CAAC,sEAAsE,CAAE,CAAC,cAClMjF,IAAA,MAAG4D,SAAS,kDAAAnB,MAAA,CAAmD,CAACtB,OAAO,CAAC,QAAQ,CAAC,EAAE,CAAG,CAACoD,OAAO,CAAGjB,CAAC,EAAKD,WAAW,CAACC,CAAC,CAAE,CAAI,CAAC,EAExH,CAAC,EAGL,CAAC,cAENpD,KAAA,QAAK0D,SAAS,CAAC,2DAA2D,CAAAC,QAAA,eACxE7D,IAAA,QAAK4D,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,SAAO,CAAK,CAAC,cACzC7D,IAAA,QAAA6D,QAAA,CACGxC,KAAK,CAACqD,MAAM,CAAG,CAAC,CACfrD,KAAK,CAACgD,GAAG,CAACa,KAAA,EAAc,IAAb,CAAEzE,IAAK,CAAC,CAAAyE,KAAA,CACjB;AACA,mBACEhF,KAAA,QAAK0D,SAAS,CAAC,kEAAkE,CAACW,OAAO,CAAEA,CAAA,GAAMvB,YAAY,CAAC,KAAK,CAAEvC,IAAI,CAAE,CAAAoD,QAAA,eACzH7D,IAAA,QAAK8D,KAAK,CAAE,CAAEC,MAAM,CAAE,OAAQ,CAAE,CAACH,SAAS,CAAC,6BAA6B,CAAAC,QAAA,cAAC7D,IAAA,QAAK8D,KAAK,CAAE,CAAEE,YAAY,CAAE,KAAM,CAAE,CAACC,GAAG,CAAC,8EAA8E,CAACE,KAAK,CAAE,EAAG,CAACC,MAAM,CAAE,EAAG,CAACF,GAAG,CAAC,OAAO,CAAE,CAAC,CAAK,CAAC,cAC5OhE,KAAA,QAAK0D,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB7D,IAAA,QAAK4D,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAEpD,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAE+D,QAAQ,CAAM,CAAC,cAC/CxE,IAAA,MAAG4D,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAEpD,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEgE,KAAK,CAAI,CAAC,EAC9D,CAAC,EACH,CAAC,CAEV,CAAC,CAAC,cAAGzE,IAAA,QAAK4D,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CAAC,aAAW,CAAK,CAAC,CAE9E,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAxD,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}