{"ast":null,"code":"import React,{useState}from'react';import Input from'./Input';import Button from'./Button';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Form(_ref){let{isSigninPage=true}=_ref;const[data,setdata]=useState({...(isSigninPage&&{fullname:''}),email:'',password:''});const navigate=useNavigate();const handleSubmit=async e=>{e.preventDefault();const res=await fetch(\"https://doctor-chat2.onrender.com/api/\".concat(isSigninPage?'createuser':'login'),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(data)});if(res.status===400)alert(\"fill correct credentials\");if(isSigninPage&&res.status===500)alert(\"user with same email id already exists\");if(res.status===500)alert(\"login with correct credentials\");else{const resData=await res.json();if(resData.token){localStorage.setItem('user:token',resData.token);localStorage.setItem('userDetail',JSON.stringify(resData.user));navigate('/');}}};return/*#__PURE__*/_jsx(\"div\",{className:\"bg-light h-screen flex justify-center items-center\",onSubmit:e=>handleSubmit(e),children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white w-[600px] h-[650px] border shadow-lg rounded-lg flex flex-col justify-center items-center\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"w-full  flex flex-col justify-center items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl font-extrabold\",children:isSigninPage?\"Welcome\":\"WelcomeBack\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xl font-light mb-14\",children:\"SignUp to explore new\"}),isSigninPage&&/*#__PURE__*/_jsx(Input,{label:\"Full Name\",placeholder:\"Type your name\",name:\"name\",className:\"mb-6\",value:data.fullname,onChange:e=>setdata({...data,fullname:e.target.value})}),/*#__PURE__*/_jsx(Input,{label:\"Email\",placeholder:\"Type Your email\",type:\"email\",name:\"email\",className:\"mb-6\",value:data.email,onChange:e=>setdata({...data,email:e.target.value})}),/*#__PURE__*/_jsx(Input,{label:\"Password\",placeholder:\"Type your password\",name:\"password\",className:\"mb-6\",value:data.password,onChange:e=>setdata({...data,password:e.target.value})}),/*#__PURE__*/_jsx(Button,{label:isSigninPage?'Sign in':'Sign up',type:\"button\",className:\"mb-14\"}),/*#__PURE__*/_jsxs(\"div\",{onClick:()=>{navigate(\"/users/\".concat(isSigninPage?'signin':'signup'));},children:[isSigninPage?'Already have an account? ':'Dont have an account?  ',\"  \",/*#__PURE__*/_jsx(\"span\",{className:\"text-primary cursor-pointer\",children:isSigninPage?'Sign in':'Sign up'})]})]})})});}","map":{"version":3,"names":["React","useState","Input","Button","useNavigate","jsx","_jsx","jsxs","_jsxs","Form","_ref","isSigninPage","data","setdata","fullname","email","password","navigate","handleSubmit","e","preventDefault","res","fetch","concat","method","headers","body","JSON","stringify","status","alert","resData","json","token","localStorage","setItem","user","className","onSubmit","children","label","placeholder","name","value","onChange","target","type","onClick"],"sources":["/Users/mashibann/Doctor_chat2/doctor_chat/src/components/Form.js"],"sourcesContent":["import React, { useState } from 'react'\r\nimport Input from './Input'\r\nimport Button from './Button'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nexport default function Form({\r\n    isSigninPage = true,\r\n}) {\r\n    const [data, setdata] = useState({\r\n        ...(isSigninPage && {\r\n            fullname: ''\r\n        }),\r\n        email: '',\r\n        password: ''\r\n    })\r\n    \r\n    const navigate=useNavigate()\r\n\r\n    const handleSubmit=async(e)=>{\r\n        e.preventDefault();\r\n        const res=await fetch(`https://doctor-chat2.onrender.com/api/${isSigninPage?'createuser':'login'}`,{\r\n            method:'POST',\r\n            headers:{\r\n                'Content-Type':'application/json'\r\n            },\r\n            body:JSON.stringify(data)\r\n        })\r\n        if(res.status===400) alert(\"fill correct credentials\");\r\n        if( isSigninPage && res.status===500) alert(\"user with same email id already exists\");\r\n        if(res.status===500) alert(\"login with correct credentials\");\r\n        else{\r\n            const resData=await res.json();\r\n            if(resData.token){\r\n                localStorage.setItem('user:token',resData.token);\r\n                localStorage.setItem('userDetail',JSON.stringify(resData.user));\r\n                navigate('/');\r\n            }\r\n        }\r\n        \r\n    }\r\n\r\n    return (\r\n        <div className='bg-light h-screen flex justify-center items-center' onSubmit={(e)=>handleSubmit(e)}>\r\n        <div className='bg-white w-[600px] h-[650px] border shadow-lg rounded-lg flex flex-col justify-center items-center'>\r\n            <form className='w-full  flex flex-col justify-center items-center'>\r\n            <div className='text-4xl font-extrabold'>{isSigninPage ? \"Welcome\" : \"WelcomeBack\"}</div>\r\n            <div className='text-xl font-light mb-14'>SignUp to explore new</div>\r\n            {isSigninPage && <Input label=\"Full Name\" placeholder=\"Type your name\" name=\"name\" className=\"mb-6\" value={data.fullname} onChange={(e)=> setdata({...data,fullname:e.target.value})}/>}\r\n            <Input label=\"Email\" placeholder=\"Type Your email\" type='email' name=\"email\" className=\"mb-6\" value={data.email} onChange={(e)=> setdata({...data,email:e.target.value})} />\r\n            <Input label=\"Password\" placeholder=\"Type your password\" name=\"password\" className=\"mb-6\" value={data.password} onChange={(e)=> setdata({...data,password:e.target.value})}/>\r\n            <Button label={isSigninPage ? 'Sign in' : 'Sign up'} type='button' className='mb-14' />\r\n            <div onClick={()=>{navigate(`/users/${isSigninPage?'signin':'signup'}`)}}>{isSigninPage ? 'Already have an account? ' : 'Dont have an account?  '}  <span className='text-primary cursor-pointer' >{isSigninPage ? 'Sign in' : 'Sign up'}</span></div>\r\n            </form>\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}